def filter_data(df, current_date, filter_team):
    """Filter data for the last 12 months and optionally remove blanks in the 'Team/Security' column."""
    # Derive funding date
    df["funding date- Derived"] = df["A"].apply(derive_funding_date)

    # Ensure funding date and current_date are timezone-naive
    df["funding date- Derived"] = pd.to_datetime(df["funding date- Derived"]).dt.tz_localize(None)
    current_date = pd.Timestamp(current_date).tz_localize(None)

    # Filter for the last 12 months
    last_12_months = current_date - timedelta(days=365)
    df_filtered = df[df["funding date- Derived"] >= last_12_months]

    # Optionally filter non-blank 'Team/Security' for India
    if filter_team and "Team/Security" in df.columns:
        df_filtered = df_filtered[df_filtered["Team/Security"].notna()]

    return df_filtered