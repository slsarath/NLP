import pandas as pd

# Sample DataFrame
data = {
    "model_output": [
        [('failure to follow procedure', 0.4987), ('resulting from erroneous payments due to gap in the process', 0.4939), ('staff error', 0.4927)]
    ],
    "erroneous_payment": ["Some Value"]  # Non-blank value triggers reordering
}

df = pd.DataFrame(data)

# Function to reorder tuples if 'erroneous payment' column is not blank
def reorder_model_output(row):
    if pd.notna(row["erroneous_payment"]) and row["erroneous_payment"].strip():  # Check for non-blank values
        phrases = row["model_output"]
        erroneous_tuples = [t for t in phrases if "erroneous" in t[0].lower()]
        other_tuples = [t for t in phrases if "erroneous" not in t[0].lower()]
        
        # If there's an "erroneous" phrase, move it to the front
        if erroneous_tuples:
            return erroneous_tuples + other_tuples[:2]  # Keep only top 3 values
    return row["model_output"]

# Apply function to reorder the model output
df["model_output"] = df.apply(reorder_model_output, axis=1)

# Display updated DataFrame
print(df)