import requests
import xml.etree.ElementTree as ET

url = "https://api.example.com/endpoint"  # Replace with your API URL
headers = {
    "Authorization": "Bearer YOUR_TOKEN",  # Add your token if required
    "Content-Type": "application/xml",
}

response = requests.get(url, headers=headers)

# Check the status code
print("Status Code:", response.status_code)

# Decode and print the XML response
xml_content = response.content.decode('utf-8')
print("XML Content:")
print(xml_content)

# Parse the XML
try:
    root = ET.fromstring(xml_content)
    print("Parsed XML Data:")
    for element in root.iter():
        print(f"{element.tag}: {element.text}")
except ET.ParseError as e:
    print("Failed to parse XML:", e)